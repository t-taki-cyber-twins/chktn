# 法人マスタ管理画面 (admin-corporate-master-list.html)

## 概要
システム管理者が法人番号API等から取得した法人情報を一元管理し、検索・参照を行うためのマスタ管理画面です。

## 機能の目的
- 法人番号に基づく正確な法人情報をシステム全体で参照できるようにする。
- テナントや取引先の登録時に、法人マスタから正確な企業情報を取得できるようにする。
- 法人情報の重複登録を防ぎ、データの一貫性を保つ。

## ユースケース
- **法人情報の検索**: システム管理者は、法人番号や会社名で法人情報を検索し、登録状況を確認する。
- **法人詳細の確認**: システム管理者は、特定の法人の詳細情報（所在地、登録日等）を確認する。
- **地域別法人の抽出**: システム管理者は、都道府県を指定して、特定地域の法人一覧を抽出する。
- **新規法人の追加確認**: システム管理者は、法人番号APIから新たに取得された法人情報が正しく登録されているかを確認する。

## EARS 記法による要件定義

### 法人検索・一覧表示
- **WHEN** システム管理者が法人マスタ管理画面を開いた際
  - **THEN** システムは登録されているすべての法人情報を一覧表示する
  - **AND** 法人番号、会社名、所在地（都道府県まで）、登録日を表示する

- **WHEN** システム管理者が検索条件（法人番号、会社名、都道府県）を入力して検索を実行した際
  - **THEN** システムは条件に一致する法人のみをフィルタリングして表示する
  - **IF** 「検索条件を記憶する」がチェックされている場合
    - **THEN** システムは検索条件を保存し、次回アクセス時に復元する

- **WHEN** システム管理者が法人番号で検索を実行した際
  - **IF** 完全一致する法人番号が存在する場合
    - **THEN** システムは該当する法人のみを表示する
  - **ELSE** 部分一致する法人番号が存在する場合
    - **THEN** システムは部分一致する法人をすべて表示する

### 法人詳細表示
- **WHEN** システム管理者が「詳細」ボタンをクリックした際
  - **THEN** システムは法人の詳細情報を表示する画面を開く
  - **AND** 法人番号、会社名、所在地（完全な住所）、登録日、その他の法人情報を表示する

## 機能一覧

| 画面 | 機能名 | 概要 | 優先度 | アクター | 備考 |
|---|---|---|---|---|---|
| 法人マスタ管理 | 検索 | 法人番号、会社名、都道府県を指定して法人を検索する | 必須 | システム管理者 | 部分一致・完全一致の動作要確認 |
| 法人マスタ管理 | 検索条件記憶 | 「検索条件を記憶します」がONの場合、検索条件を保存する | 推奨 | システム | localStorageで実装予定 |
| 法人マスタ管理 | 一覧表示 | すべての法人情報をテーブル形式で表示する | 必須 | システム | 法人番号、会社名、所在地（省略表示）、登録日を表示 |
| 法人マスタ管理 | 詳細表示 | 「詳細」ボタン押下時に法人の詳細情報を表示する | 必須 | システム管理者 | 詳細画面の実装方法要確認（モーダルか別画面か） |
| 法人マスタ管理 | ページネーション | ページ切り替えを行う | 必須 | システム管理者 | `app-pagination`コンポーネントを使用 |

## ユーザ確認事項
- **法人情報の取得元**: 法人番号APIから自動的に取得する方式か、手動登録も可能にするかの確認が必要です。
- **法人情報の更新頻度**: 法人番号APIから定期的に情報を更新する場合、その頻度や更新方法について確認が必要です。
- **詳細画面の実装方法**: 「詳細」ボタン押下時の表示方法（モーダル、別画面、サイドパネル等）について確認が必要です。現在は未実装の状態です。
- **所在地の表示形式**: 一覧では省略表示（都道府県まで）していますが、どこまで省略するか（都道府県+市区町村まで等）の仕様確認が必要です。
- **検索の動作**: 法人番号検索時の完全一致・部分一致の挙動、会社名検索時の部分一致の範囲について確認が必要です。
- **ページネーション仕様**: 1ページあたりの表示件数や、サーバーサイドページネーションの実装方法について確認が必要です。
