# 案件検索（自社） (project-search.html)

## 概要
自社が保有する案件情報を検索・一覧表示し、案件の管理（登録・編集・削除・公開設定）を行うための画面です。

## 機能の目的
- 自社の案件情報を効率的に検索・管理する。
- 案件のステータスや公開状況を可視化し、適切なアクション（公開/非公開、編集など）を行えるようにする。

## ユースケース
- **案件の検索**: 案件名、ステータス、担当者、エンド会社、公開設定などの条件で案件を検索する。
- **案件の新規登録**: 新しい案件情報を登録する画面へ遷移する。
- **案件情報の編集**: 既存の案件情報を編集する画面へ遷移する。
- **案件の削除**: 不要になった案件情報を削除する。
- **案件の公開/非公開確認**: 各案件が公開されているか非公開かを確認する。

## EARS 記法による要件定義

### 案件検索・一覧表示
- **WHEN** ユーザが案件検索画面を開いた際
  - **THEN** システムは全案件の一覧を表示する（デフォルト）
  - **AND** 検索フォームを表示する

- **WHEN** ユーザが検索条件（案件名、ステータス、担当者など）を入力して「検索」ボタンをクリックした際
  - **THEN** システムは条件に一致する案件のみをフィルタリングして表示する
  - **AND** 検索結果件数を更新する

- **WHEN** ユーザが「リセット」ボタンをクリックした際
  - **THEN** システムは検索フォームの入力内容をクリアする
  - **AND** 全案件の一覧を表示する

- **WHEN** ユーザがテーブルヘッダーをクリックした際
  - **THEN** システムは該当する列で一覧をソート（昇順/降順）する

### アクション実行
- **WHEN** ユーザが「新規登録」ボタンをクリックした際
  - **THEN** システムは案件登録画面（`project-register.html`）へ遷移する

- **WHEN** ユーザが各行の「編集」ボタンをクリックした際
  - **THEN** システムは該当案件の編集画面（`project-edit.html`）へ遷移する

- **WHEN** ユーザが各行の「削除」ボタンをクリックした際
  - **THEN** システムは削除確認ダイアログを表示する
  - **IF** ユーザが削除を承認した場合
    - **THEN** システムは該当案件を削除し、一覧を更新する

## 機能一覧

| 画面 | 機能名 | 概要 | 優先度 | アクター | 備考 |
|---|---|---|---|---|---|
| 案件検索 | 検索 | 条件（案件名、ステータス、担当者、エンド会社、公開設定）を指定して案件を検索する | 必須 | ユーザー | |
| 案件検索 | 検索リセット | 検索条件を初期化し、全件表示に戻す | 必須 | ユーザー | |
| 案件検索 | 検索条件記憶 | 「検索条件を記憶します」がONの場合、検索条件を保存する | 推奨 | システム | 現状HTMLにはチェックボックスがあるがJS実装は未確認（要確認） |
| 案件検索 | 一覧表示 | 検索結果をテーブル形式で表示する | 必須 | システム | |
| 案件検索 | ソート | テーブルのヘッダーをクリックして、昇順・降順で並び替える | 必須 | ユーザー | 対象: 案件名、エンド会社、開始日、終了日、単価、ステータス、担当者 |
| 案件検索 | 新規登録遷移 | 「新規登録」ボタン押下時に案件登録画面へ遷移する | 必須 | ユーザー | |
| 案件検索 | 編集遷移 | 「編集」ボタン押下時に案件編集画面へ遷移する | 必須 | ユーザー | |
| 案件検索 | 削除 | 「削除」ボタン押下時に確認ダイアログを表示し、承認後に削除する | 必須 | ユーザー | |
| 案件検索 | ページネーション | ページ切り替えを行う | 必須 | ユーザー | |

## ユーザ確認事項
- **一括操作（公開/非公開）**: JSには一括公開・非公開のロジックが含まれていますが、画面上（HTML）にボタンが見当たりません。一括操作ボタンの配置場所や必要性について確認が必要です。
- **検索条件の記憶**: 画面上に「検索条件を記憶します」チェックボックスがありますが、JSでの実装（localStorageへの保存など）が完全か確認が必要です。
- **単価の表示**: 単価が範囲（min〜max）で登録されている場合のソートロジック（minでソートかmaxでソートかなど）について、現状の実装（文字列からの数値抽出）で十分か確認が必要です。
