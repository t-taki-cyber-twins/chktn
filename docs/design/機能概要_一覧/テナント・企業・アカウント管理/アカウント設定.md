# アカウント設定 (account-list.html)

## 概要
システムへのログインアカウントを管理するための画面です。
アカウントの作成・編集・検索を行い、ロールグループの割り当てやアカウントのステータス管理を行います。

## 機能の目的
- ログインアカウントを一元管理し、適切な権限を持つユーザーのみがシステムにアクセスできるようにする。
- 二段階認証の設定により、セキュリティを強化する。

## ユースケース
- **アカウントの作成**: ユーザー（管理者）は、新しいログインアカウントを作成する。
- **アカウントの検索**: ユーザーは、メールアドレス、社員名、ロールグループ、ステータスでアカウントを検索する。
- **アカウント情報の編集**: ユーザーは、既存のアカウント情報（ロールグループ、ステータスなど）を更新する。
- **二段階認証の設定**: ユーザーは、テナント全体またはアカウント個別の二段階認証設定を行う。

## EARS 記法による要件定義

### アカウント検索・一覧表示
- **WHEN** ユーザがアカウント管理画面を開いた際
  - **THEN** システムはアカウントの一覧を表示する
  - **AND** 検索フォームを表示する
  - **AND** セキュリティ注意事項を表示する

- **WHEN** ユーザが検索条件（メールアドレス、社員名、ロールグループ、ステータス）を入力して「検索」ボタンをクリックした際
  - **THEN** システムは条件に一致するアカウントのみをフィルタリングして表示する

### アカウント管理
- **WHEN** ユーザが「新規アカウント作成」ボタンをクリックした際
  - **THEN** システムはアカウント編集モーダル（`app-account-edit-modal`）を新規作成モードで表示する

- **WHEN** ユーザが「編集」ボタンをクリックした際
  - **THEN** システムはアカウント編集モーダルを編集モードで表示し、該当するアカウント情報をロードする

- **WHEN** ユーザが「二段階認証設定」ボタンをクリックした際
  - **THEN** システムは二段階認証設定画面またはモーダルを表示する

## 機能一覧

| 画面 | 機能名 | 概要 | 優先度 | アクター | 備考 |
|---|---|---|---|---|---|
| アカウント設定 | 検索 | メールアドレス、社員名、ロールグループ、ステータスでアカウントを検索する | 必須 | ユーザー | |
| アカウント設定 | 一覧表示 | アカウントを一覧表示する | 必須 | システム | |
| アカウント設定 | ソート | メールアドレス、社員名、ロールグループ、ステータス、最終ログインでソートする | 必須 | ユーザー | |
| アカウント設定 | アカウント作成 | 新しいアカウントを作成する | 必須 | ユーザー | `app-account-edit-modal`を使用 |
| アカウント設定 | アカウント編集 | 既存のアカウント情報を編集する | 必須 | ユーザー | `app-account-edit-modal`を使用 |
| アカウント設定 | 二段階認証設定 | 二段階認証の設定を行う | 必須 | ユーザー | |

## ユーザ確認事項
- **社員とアカウントの関係**: 1社員につき1アカウントか、複数アカウント可能か確認が必要です。
- **パスワード変更の認証**: 注意書きに「パスワードの変更にはメールアドレスでの認証が必要」とありますが、この認証フローの詳細確認が必要です。
- **ロックアカウントの解除**: ロック中ステータスのアカウントを解除する機能や手順の確認が必要です。
