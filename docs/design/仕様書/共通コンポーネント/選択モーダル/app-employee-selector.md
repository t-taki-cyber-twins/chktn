# 社員選択モーダル (app-employee-selector.js)

## 概要
システム内の社員（エンジニア、案件担当、技術者管理など）を検索・選択するための共通モーダルコンポーネントです。
複数の画面から呼び出され、担当者の割り当てや対象者の選択に使用されます。

## 機能の目的
- ユーザーが目的の社員を迅速に見つけ出し、選択できるようにする。
- 名前検索や属性（役割）による絞り込み機能を提供し、選択ミスを防ぐ。

## ユースケース
- **案件担当者の選択**: 案件登録・編集時に、その案件を担当する営業担当者（PM）を選択する。
- **技術担当者の選択**: エンジニア登録・編集時に、そのエンジニアを管理する技術担当者を選択する。
- **面談参加者の選択**: 面談設定時に、自社からの参加者を選択する。
- **エンジニアの選択**: エンジニア検索や登録時に、対象となるエンジニア社員を選択する。

## EARS 記法による要件定義

### モーダル表示・初期化
- **WHEN** 呼び出し元画面から社員選択モーダルが開かれた際
  - **THEN** システムは社員一覧を表示する
  - **IF** 初期選択済みの社員が指定されている場合
    - **THEN** システムは該当する社員を選択状態（チェック済み）で表示する

### 検索・フィルタリング
- **WHEN** ユーザーが検索ボックスにテキストを入力して検索を実行した（またはEnterキーを押下した）際
  - **THEN** システムは入力されたテキストが名前に含まれる社員のみをフィルタリングして表示する

- **WHEN** ユーザーが絞り込みチェックボックス（エンジニア、案件担当、技術者管理）を変更した際
  - **THEN** システムは選択された属性を**すべて**満たす社員のみをフィルタリングして表示する（AND条件）

### 選択・確定
- **WHEN** ユーザーが社員リストのチェックボックスをクリックした際
  - **THEN** システムは選択状態を切り替える

- **WHEN** ユーザーが「選択を確定」ボタンをクリックした際
  - **THEN** システムは選択された社員のリストを呼び出し元に返し、モーダルを閉じる

- **WHEN** ユーザーが「キャンセル」または「×」ボタンをクリックした際
  - **THEN** システムは変更を破棄してモーダルを閉じる

## 機能一覧

| コンポーネント | 機能名 | 概要 | 優先度 | アクター | 備考 |
|---|---|---|---|---|---|
| 社員選択モーダル | 社員一覧表示 | 全社員またはフィルタリングされた社員をリスト表示する | 必須 | システム | 名前、部署、役割バッジを表示 |
| 社員選択モーダル | 名前検索 | 社員名での部分一致検索を行う | 必須 | ユーザー | |
| 社員選択モーダル | 属性フィルタ | 役割（エンジニア、案件担当、技術者管理）で絞り込みを行う | 必須 | ユーザー | 複数選択時はAND条件 |
| 社員選択モーダル | 複数選択 | チェックボックスにより複数の社員を選択可能にする | 必須 | ユーザー | |
| 社員選択モーダル | 選択確定 | 選択した社員情報を確定し、呼び出し元へ渡す | 必須 | ユーザー | |

## ユーザ確認事項
- **フィルタリング条件**: 現在の実装では属性フィルタは「AND条件（すべて満たす）」ですが、ユースケースによっては「OR条件（いずれかを満たす）」が望ましい場合があります。現状の挙動で問題ないか確認が必要です。
- **ページネーション**: 社員数が増加した場合、スクロールのみで対応するか、ページネーションや無限スクロールが必要か確認が必要です（現状はスクロール）。
- **初期表示**: モーダルを開いた直後に全社員を表示するか、検索するまで表示しないか（パフォーマンス観点）。現状は全表示です。
