# 面談ツール設定モーダル (app-meeting-tool-settings.js)

## 概要
面談で使用するオンラインツール（Zoom、Google Meet等）の参加者設定とURL発行を行うモーダルコンポーネントです。エンジニア側と案件側それぞれの参加者を設定し、面談用のURLを生成します。

## 機能の目的
- 面談の参加者をエンジニア側・案件側それぞれ設定できるようにする。
- 面談ツールのURLを自動生成し、参加者に共有できるようにする。
- 表示側（エンジニア側 or 案件側）に応じて適切な入力UIを提供する。

## ユースケース
- **参加者の設定**: ユーザーが両社の参加者（社員選択 or メールアドレス直接入力）を設定する。
- **URL発行**: ユーザーが設定を確定し、面談URLを発行する。
- **表示制御**: エンジニア側から見た場合は自社の参加者を選択でき、相手側はメールアドレス表示のみとなる。

## EARS 記法による要件定義

### モーダル表示
- **WHEN** システムが面談回データと表示側情報を渡してモーダルを開いた際
  - **IF** 表示側がエンジニア側の場合
    - **THEN** エンジニア側参加者の選択UIを表示し、案件側はメールアドレス表示のみとする
  - **ELSE IF** 表示側が案件側の場合
    - **THEN** 案件側参加者の選択UIを表示し、エンジニア側はメールアドレス表示のみとする
  - **ELSE**
    - **THEN** 両方の参加者選択UIを表示する

### 参加者管理
- **WHEN** ユーザーが社員選択ボタンをクリックした際
  - **THEN** システムは社員選択モーダル（`app-employee-selector`）を開く
  - **AND** 既に選択されている社員を初期選択状態で表示する
- **WHEN** ユーザーが「すべて解除」ボタンをクリックした際
  - **THEN** システムは選択された社員をすべて削除する（メールアドレスのみの参加者は保持）

### URL発行
- **WHEN** ユーザーが「面談URLを発行」ボタンをクリックした際
  - **IF** 面談ツールが選択されていない場合
    - **THEN** システムはエラーメッセージを表示する
  - **ELSE**
    - **THEN** システムは面談URLを生成し、面談回データに保存する
    - **AND** 設定保存イベントを発火して親コンポーネントに通知する
    - **AND** モーダルを閉じる

## 機能一覧

| コンポーネント | 機能名 | 概要 | 優先度 | アクター | 備考 |
|---|---|---|---|---|---|
| app-meeting-tool-settings | 参加者選択UI表示 | 表示側に応じて適切な参加者選択UIを表示する | 必須 | システム | |
| app-meeting-tool-settings | 社員選択 | 社員選択モーダルから参加者を選択する | 必須 | ユーザー | `app-employee-selector`を使用 |
| app-meeting-tool-settings | メールアドレス入力 | 自由にメールアドレスを入力する | 必須 | ユーザー | カンマ区切り |
| app-meeting-tool-settings | 参加者削除 | 選択した参加者を個別または一括削除する | 必須 | ユーザー | |
| app-meeting-tool-settings | デフォルト参加者設定 | 表示側に応じてデフォルト参加者を自動設定する | 必須 | システム | |
| app-meeting-tool-settings | URL発行 | 面談ツールに応じたURLを生成する | 必須 | ユーザー | |
| app-meeting-tool-settings | 設定保存通知 | 設定内容を親コンポーネントに通知する | 必須 | システム | |

## ユーザ確認事項
- **URL発行の実装**: 現在はモックURLを生成していますが、実際のZoom/Google Meet等のAPI連携仕様の確認が必要です。
- **デフォルト参加者**: 表示側に応じて自動設定されるデフォルト参加者のロジックが適切かどうか確認が必要です。
