# テナント情報・契約管理 (tenant-company-list.html)

## 概要
テナント自身の情報管理、契約プランの変更、およびテナントに所属する会社情報の管理を行う画面です。
マルチテナント構造において、1つのテナントが複数の会社（グループ会社など）を管理するケースに対応しています。

## 機能の目的
- テナント全体の基本情報や契約情報を一元管理する。
- テナントに紐づく会社情報を追加・編集・削除し、組織構造を反映させる。

## ユースケース
- **テナント情報の確認・編集**: ユーザーは、テナント名や契約プランを確認し、必要に応じて変更する。
- **契約プラン・支払情報の変更**: ユーザーは、利用プランのアップグレードや支払方法の変更を行う。
- **会社の追加**: ユーザーは、グループ会社などをテナントに追加登録する。
- **会社情報の編集**: ユーザーは、登録済みの会社情報を更新する。

## EARS 記法による要件定義

### テナント管理
- **WHEN** ユーザがテナント情報・契約管理画面を開いた際
  - **THEN** システムはテナントの基本情報（テナント名、ID）を表示する
  - **AND** テナントに所属する会社の一覧を表示する

- **WHEN** ユーザが「編集」ボタン（テナント情報）をクリックした際
  - **THEN** システムはテナント編集モーダル（`app-tenant-edit-modal`）を表示する

### 会社管理
- **WHEN** ユーザが「＋ 会社追加」ボタンをクリックした際
  - **THEN** システムは会社編集モーダル（`app-company-edit-modal`）を新規作成モードで表示する

- **WHEN** ユーザが会社一覧の「編集」ボタンをクリックした際
  - **THEN** システムは会社編集モーダルを編集モードで表示し、該当する会社情報をロードする

- **WHEN** ユーザが検索条件（会社名、法人番号）を入力して「検索」ボタンをクリックした際
  - **THEN** システムは条件に一致する会社のみをフィルタリングして表示する

## 機能一覧

| 画面 | 機能名 | 概要 | 優先度 | アクター | 備考 |
|---|---|---|---|---|---|
| テナント情報・契約管理 | テナント情報表示 | テナント名、テナントIDを表示する | 必須 | システム | |
| テナント情報・契約管理 | テナント情報編集 | テナント情報を編集するモーダルを表示する | 必須 | ユーザー | `app-tenant-edit-modal`を使用 |
| テナント情報・契約管理 | 会社検索 | 会社名、法人番号で会社を検索する | 必須 | ユーザー | |
| テナント情報・契約管理 | 会社一覧表示 | テナントに所属する会社を一覧表示する | 必須 | システム | |
| テナント情報・契約管理 | 会社追加 | 新しい会社を追加するモーダルを表示する | 必須 | ユーザー | `app-company-edit-modal`を使用 |
| テナント情報・契約管理 | 会社編集 | 既存の会社情報を編集するモーダルを表示する | 必須 | ユーザー | `app-company-edit-modal`を使用 |
| テナント情報・契約管理 | 会社削除 | 会社を削除する | 必須 | ユーザー | テナント本体の会社は削除不可 |
| テナント情報・契約管理 | クレカ決済API連携 | クレカ決済APIを呼び出す | 必須 | システム | |

## ユーザ確認事項
- **テナント編集モーダルの詳細**: テナント編集モーダル内で、プラン変更や支払情報変更を行うボタンが含まれている想定ですが、これらの機能の詳細な遷移や挙動（別画面か、さらにモーダルか）を確認する必要があります。
- **削除の制約**: テナント本体の会社（バッジ付き）は削除ボタンが表示されていませんが、この制約で正しいか確認が必要です。
- **クレカ決済API連携**: クレカ決済APIを呼び出す機能の詳細を確認する必要があります。
  - DGフィナンシャルテクノロジーの公式ドキュメント: https://www.veritrans.co.jp/docs/
  - JavaのMDKの公式ドキュメント: https://www.veritrans.co.jp/docs/mdk_tutorial/java_tutorial.html