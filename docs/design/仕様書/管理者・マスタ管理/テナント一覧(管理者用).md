# テナント一覧（管理者用）画面 (admin-tenant-list.html)

## 概要
システム管理者がすべてのテナント情報を一覧表示し、各テナントの状態管理（利用中/停止中）や詳細情報の編集を行うための管理画面です。

## 機能の目的
- システム管理者がすべてのテナントを横断的に管理し、運用状況を把握する。
- テナントの利用状態を適切に管理し、必要に応じて停止・再開操作を行う。
- テナント情報の検索・確認・編集を効率的に実施できるようにする。

## ユースケース
- **新規テナントの状態確認**: システム管理者は、新規作成されたテナントが正常に利用開始されているかを一覧から確認する。
- **特定テナントの検索**: システム管理者は、テナント名やテナントIDで検索し、特定のテナント情報を素早く見つける。
- **テナントの停止**: システム管理者は、契約終了や問題発生時に、該当するテナントを停止状態にする。
- **テナントの再開**: システム管理者は、停止中のテナントに対し、問題解決後に利用を再開させる。
- **テナント情報の編集**: システム管理者は、テナントのプラン変更や契約情報の更新を行う。

## EARS 記法による要件定義

### テナント検索・一覧表示
- **WHEN** システム管理者がテナント一覧画面を開いた際
  - **THEN** システムはすべてのテナント情報を一覧表示する
  - **AND** 各テナントのステータス（利用中/停止中）を視覚的に区別して表示する

- **WHEN** システム管理者が検索条件（テナント名、テナントID、ステータス）を入力して検索を実行した際
  - **THEN** システムは条件に一致するテナントのみをフィルタリングして表示する
  - **IF** 「検索条件を記憶する」がチェックされている場合
    - **THEN** システムは検索条件を保存し、次回アクセス時に復元する

### テナント状態管理
- **WHEN** システム管理者が利用中のテナントに対して「停止」ボタンをクリックした際
  - **THEN** システムは確認ダイアログを表示する
  - **IF** 管理者が操作を確認した場合
    - **THEN** システムはテナントを停止状態に変更する
    - **AND** テナントのステータス表示を「停止中」に更新する
    - **AND** 該当テナントのユーザーはシステムにアクセスできなくなる

- **WHEN** システム管理者が停止中のテナントに対して「再開」ボタンをクリックした際
  - **THEN** システムは確認ダイアログを表示する
  - **IF** 管理者が操作を確認した場合
    - **THEN** システムはテナントを利用中状態に変更する
    - **AND** テナントのステータス表示を「利用中」に更新する
    - **AND** 該当テナントのユーザーは再びシステムにアクセスできるようになる

### テナント詳細編集
- **WHEN** システム管理者が「詳細/編集」ボタンをクリックした際
  - **THEN** システムはテナント編集モーダル（`app-tenant-edit-modal`）を管理者モードで開く
  - **AND** 該当するテナントの詳細情報をロードする
  - **AND** 管理者は通常ユーザーより広範な情報（契約情報、プラン等）を編集できる

## 機能一覧

| 画面 | 機能名 | 概要 | 優先度 | アクター | 備考 |
|---|---|---|---|---|---|
| テナント一覧（管理者用） | 検索 | テナント名、テナントID、ステータスを指定してテナントを検索する | 必須 | システム管理者 | |
| テナント一覧（管理者用） | 検索条件記憶 | 「検索条件を記憶します」がONの場合、検索条件を保存する | 推奨 | システム | localStorageで実装予定 |
| テナント一覧（管理者用） | 一覧表示 | すべてのテナント情報をテーブル形式で表示する | 必須 | システム | テナント名、テナントID、プラン、ステータス、作成日を表示 |
| テナント一覧（管理者用） | ステータス表示 | テナントの状態を視覚的に表示する（利用中/停止中） | 必須 | システム | バッジ形式で色分け表示 |
| テナント一覧（管理者用） | テナント停止 | 利用中のテナントを停止状態にする | 必須 | システム管理者 | 確認ダイアログを表示 |
| テナント一覧（管理者用） | テナント再開 | 停止中のテナントを利用中状態にする | 必須 | システム管理者 | 確認ダイアログを表示 |
| テナント一覧（管理者用） | 詳細編集モーダル表示 | 「詳細/編集」ボタン押下時に管理者モードでモーダルを表示する | 必須 | システム管理者 | `app-tenant-edit-modal`を使用、管理者モード有効 |
| テナント一覧（管理者用） | ページネーション | ページ切り替えを行う | 必須 | システム管理者 | `app-pagination`コンポーネントを使用 |

## ユーザ確認事項
- **テナント停止時の挙動**: テナントを停止した際、該当テナントの既存ユーザーセッションはどのように処理するか（即座に無効化するか、次回アクセス時に拒否するか等）の確認が必要です。
- **管理者モードの権限範囲**: テナント編集モーダルの管理者モードで編集可能な項目について、通常のテナント管理者との権限の違いを明確にする必要があります。
- **プラン種類**: 「ライトプラン」「スタンダードプラン」「エンタープライズプラン」以外のプラン種類や、プラン変更時の制約事項について確認が必要です。
- **検索条件の記憶**: 保存するタイミング（検索時か、チェックボックス変更時か）や保存期間についての詳細な要望があれば確認が必要です。
- **ページネーション仕様**: 1ページあたりの表示件数や、サーバーサイドページネーションの実装方法について確認が必要です。
