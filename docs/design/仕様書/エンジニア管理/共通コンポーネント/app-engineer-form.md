# エンジニア情報入力フォーム (app-engineer-form.js)

## 概要
エンジニアの基本情報、社員情報、スキル、経歴（案件）情報を入力・管理するための包括的なフォームコンポーネントです。
タブ切り替えにより、多岐にわたる情報を整理して入力することができます。

## 機能の目的
- エンジニアに関する詳細な情報を一元管理し、効率的なデータ入力と閲覧を提供する。
- スキルや経歴などの構造化データを直感的に操作できるようにする。

## ユースケース
- **エンジニア新規登録**: ユーザーは、新しいエンジニアの情報を各タブに入力して登録する。
- **エンジニア情報編集**: ユーザーは、既存のエンジニア情報を閲覧・修正する。
- **スキルシートからの情報取り込み**: ユーザーは、スキルシートをアップロードし、AI解析結果（スキル、案件）をフォームに反映させる。

## EARS 記法による要件定義

### フォーム表示とタブ制御
- **WHEN** コンポーネントが表示された際
  - **THEN** システムは「エンジニア基本情報」タブをアクティブにしてフォームを表示する
  - **AND** 必要な初期データ（マスタデータなど）をロードする

- **WHEN** ユーザがタブ（基本情報、社員情報、スキルシート、案件）をクリックした際
  - **THEN** システムはクリックされたタブをアクティブにし、対応するコンテンツを表示する

### スキル管理
- **WHEN** ユーザがスキル追加フォームで情報を入力し「追加」ボタンをクリックした際
  - **IF** 入力内容が有効（必須項目入力済み）かつ重複がない場合
    - **THEN** システムはスキル一覧テーブルに行を追加する
    - **AND** 入力フォームをクリアする
  - **ELSE**
    - **THEN** システムはエラーメッセージを表示する

- **WHEN** ユーザがスキル一覧の「削除」ボタンをクリックした際
  - **THEN** システムは確認ダイアログを表示し、承認されれば該当スキルを一覧から削除する

### 案件管理
- **WHEN** ユーザが「案件追加」ボタンをクリックした際
  - **THEN** システムは案件追加モーダルを新規作成モードで表示する

- **WHEN** ユーザが案件一覧の「編集」ボタンをクリックした際
  - **THEN** システムは案件追加モーダルを編集モードで表示し、既存データをセットする

- **WHEN** ユーザが案件追加モーダルで「追加」（または「更新」）ボタンをクリックした際
  - **THEN** システムは入力内容を案件一覧テーブルに反映（追加または更新）する
  - **AND** モーダルを閉じる

### データ入出力
- **WHEN** 親コンポーネントが `getFormData()` メソッドを呼び出した際
  - **THEN** システムはフォーム全体の入力値（基本情報、社員情報、スキル、案件含む）をオブジェクトとして返す
  - **AND** バリデーションを実行し、エラーがあれば通知する

- **WHEN** 親コンポーネントが `setFormData(data)` メソッドを呼び出した際
  - **THEN** システムは渡されたデータを各フィールドにセットし、表示を更新する

## 機能一覧

| コンポーネント | 機能名 | 概要 | 優先度 | アクター | 備考 |
|---|---|---|---|---|---|
| app-engineer-form | タブ切り替え | 基本情報、社員情報、スキルシート、案件の表示を切り替える | 必須 | ユーザー | |
| app-engineer-form | 基本情報入力 | 営業可否、希望条件、単価などを入力する | 必須 | ユーザー | |
| app-engineer-form | 社員情報入力 | 社員情報を入力する | 必須 | ユーザー | `app-employee-info-form`を使用 |
| app-engineer-form | スキルシートアップロード | スキルシートをアップロードし、解析結果を反映する | 必須 | ユーザー | `app-skill-sheet-uploader`を使用 |
| app-engineer-form | スキル管理 | スキルの追加、一覧表示、削除を行う | 必須 | ユーザー | マスタ選択と自由入力を併用 |
| app-engineer-form | 案件管理 | 経歴（案件）の追加、編集、一覧表示、削除を行う | 必須 | ユーザー | 自社案件との紐付けが可能 |
| app-engineer-form | 担当者選択 | エンジニア担当者を選択する | 必須 | ユーザー | `app-employee-selector`を使用 |
| app-engineer-form | ブラックリスト選択 | ブラックリスト企業を選択する | 必須 | ユーザー | `app-blacklist-selector`を使用 |
| app-engineer-form | メーリングリスト選択 | 連絡先および社内通知用メーリングリストを選択する | 必須 | ユーザー | `app-mailing-list-selector`を使用 |
| app-engineer-form | バリデーション | 入力内容の整合性をチェックする | 必須 | システム | `validateForm()`メソッド |

## ユーザ確認事項
- **AI機能の実装時期**: 「エンジニアメモから情報抽出」「スキルメモから情報抽出」などのAI機能ボタンが配置されていますが、これらは「後で実装予定」のアラートが出る状態です。実装フェーズの確認が必要です。
- **案件のソート順**: 案件一覧は「稼働終了日 > 稼働開始日 > 面談日時」の降順でソートされますが、この仕様で問題ないか確認が必要です。
- **必須項目の定義**: バリデーションロジックにおいて、現在の必須項目（営業可否、ステータスなど）が要件を満たしているか確認が必要です。
