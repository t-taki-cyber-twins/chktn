# スキルシートアップロード (app-skill-sheet-uploader.js)

## 概要
エンジニアの経歴書（スキルシート）ファイルをアップロードし、必要に応じてAIによる解析を行うためのモーダルコンポーネントです。
PDF、Word、Excel形式のファイルに対応しています。

## 機能の目的
- 既存のスキルシートから情報を手動で転記する手間を省き、効率的にエンジニア情報を登録できるようにする。
- ファイルの管理と構造化データの抽出をシームレスに行う。

## ユースケース
- **スキルシートのアップロード**: ユーザーは、エンジニアの経歴書ファイルを選択し、システムに保存する。
- **AI解析による自動入力**: ユーザーは、アップロードと同時にAI解析を実行し、抽出されたスキルや案件情報をフォームに自動反映させる。

## EARS 記法による要件定義

### ファイル選択
- **WHEN** ユーザがファイル選択ボタンをクリック（またはファイルをドロップ）した際
  - **THEN** システムはファイル選択ダイアログを表示する

- **WHEN** ユーザがファイルを選択した際
  - **THEN** システムは選択されたファイル名とサイズを表示する
  - **AND** 「アップロードのみ」「AIで解析」ボタンを有効化する

### アップロードと解析
- **WHEN** ユーザが「アップロードのみ」ボタンをクリックした際
  - **THEN** システムはファイルをサーバーにアップロードする
  - **AND** 完了後、`onUpload` コールバックを実行してモーダルを閉じる

- **WHEN** ユーザが「AIで解析」ボタンをクリックした際
  - **THEN** システムは解析処理を開始し、進捗バーを表示する
  - **AND** ボタンを無効化して二重送信を防止する
  - **IF** 解析が完了した場合
    - **THEN** `onAnalysis` コールバックを実行（解析結果データを渡す）してモーダルを閉じる

## 機能一覧

| コンポーネント | 機能名 | 概要 | 優先度 | アクター | 備考 |
|---|---|---|---|---|---|
| app-skill-sheet-uploader | モーダル表示 | アップロード用モーダルを表示する | 必須 | システム | `open()`メソッド |
| app-skill-sheet-uploader | ファイル選択 | アップロードするファイルを選択する | 必須 | ユーザー | PDF, Word, Excel対応 |
| app-skill-sheet-uploader | ファイル情報表示 | 選択されたファイルの情報を表示する | 必須 | システム | |
| app-skill-sheet-uploader | アップロード実行 | ファイルのアップロードのみを行う | 必須 | ユーザー | |
| app-skill-sheet-uploader | AI解析実行 | ファイルをアップロードし、AI解析を行う | 必須 | ユーザー | 現状はモック実装 |
| app-skill-sheet-uploader | AI解析エージェント作成 | AI解析用エージェントを生成する | 必須 | システム | |
| app-skill-sheet-uploader | 進捗表示 | 解析の進捗状況をプログレスバーで表示する | 必須 | システム | |

## ユーザ確認事項
- **AI解析のモック動作**: 現在のAI解析機能はモック（シミュレーション）であり、実際の解析は行われません。バックエンドAPIの実装に合わせて接続する必要があります。
- **対応ファイル形式**: 現在は `.pdf, .doc, .docx, .xls, .xlsx` が許可されていますが、これで十分か確認が必要です。
- **エラーハンドリング**: ファイルサイズ制限やネットワークエラー時の挙動について、詳細な仕様確認が必要です。
