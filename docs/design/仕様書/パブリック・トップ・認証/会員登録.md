# 会員登録画面 (member-register.html)

## 概要
新規ユーザーがサービスの利用登録を行うための画面です。
法人番号検索機能を用いて正確な企業情報を入力し、ユーザー情報と共に登録申請を行います。

## 機能の目的
- 新規ユーザーの獲得とオンボーディングの入り口を提供する。
- 法人番号検索により、正規化された企業情報の登録を促進する。
- メール認証（本登録メール送信）により、なりすましや不正登録を防止する。

## ユースケース
- **新規登録申請**: ユーザーは、自社の情報を検索・選択し、自身の連絡先情報を入力して登録を申請する。
- **法人検索**: ユーザーは、法人番号検索機能を使用して、自社の正式名称や住所を自動入力する。

## EARS 記法による要件定義

### 法人情報入力
- **WHEN** ユーザーが「法人検索」ボタンをクリックした際
  - **THEN** システムは法人検索モーダル（`app-official-company-search-modal`）を表示する

- **WHEN** ユーザーがモーダルで法人を選択した際
  - **THEN** システムは選択された法人名、法人番号、住所をフォームに自動入力する
  - **AND** 法人名と住所フィールドを読み取り専用にする

### 登録申請
- **WHEN** ユーザーが必須項目を入力し、「登録してメールを送信」ボタンをクリックした際
  - **THEN** システムは入力内容を検証する
  - **IF** 入力が有効な場合
    - **THEN** システムは本登録用URLを含むメールを送信する
    - **AND** 送信完了メッセージを表示し、ログイン画面へ遷移する（または完了画面へ遷移する）

## 機能一覧

| 画面 | 機能名 | 概要 | 優先度 | アクター | 備考 |
|---|---|---|---|---|---|
| 会員登録 | 法人検索 | 国税庁法人番号公表サイト等のAPIを用いて法人を検索する | 必須 | ユーザー | `app-official-company-search-modal`を使用 |
| 会員登録 | 自動入力 | 検索結果から法人名、法人番号、住所を自動入力する | 必須 | システム | |
| 会員登録 | 登録フォーム | 氏名、部署、メールアドレス、電話番号を入力する | 必須 | ユーザー | |
| 会員登録 | 登録ボタン | 入力内容を送信し、本登録プロセスを開始する | 必須 | ユーザー | |

## 共通コンポーネント
この画面では以下の共通コンポーネントを使用しています。
- `app-official-company-search-modal`: 法人検索・選択モーダル

## ユーザ確認事項
- **既存企業の扱い**: 既に登録済みの法人が選択された場合、新規テナントとして扱うか、既存テナントへの追加申請として扱うか確認が必要です。
- **メール送信後のフロー**: メール送信後、画面上ではログイン画面に戻るだけでよいか、あるいは「メールを確認してください」という専用の完了画面を表示すべきか確認が必要です。
- **法人番号がない組織**: 個人事業主や任意団体など、法人番号を持たない組織の登録フローについて確認が必要です。
