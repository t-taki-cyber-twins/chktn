# 共通コンポーネントドキュメント実装計画

## 目的
`共通コンポーネント一覧.md`にリストされている共通コンポーネントの機能概要ドキュメントを作成する。
フォルダ分類ごとにグループ化して、順次ドキュメント作成を進める。
`message-search.md` をテンプレートとして、品質の統一を図りつつ、並列作業可能なようにタスクを分割する。

## 方針
- **出力は日本語**: 実装計画書やタスク・ウォークスルー、作成するドキュメントの内容は日本語で記載する。
- **並列実行**: 画面を機能群（グループ）ごとに分け、並列してドキュメント作成を進められるようにする。
- **標準化**: `docs/design/仕様書/message-search.md` のフォーマット（EARS記法、機能一覧など）を厳守する。
- **実装タスク計画**: 実装タスク計画を立ててからドキュメント作成に取り掛かること。

### 重複回避の方針
共通コンポーネントの機能説明は、以下のルールに従って記載する：

#### パターン1: 共通コンポーネント側に機能を記載する場合
- **対象**: 複数の画面から使用される共通機能で、詳細な仕様説明が必要な場合
- **共通コンポーネント側**: 機能の詳細を記載
- **呼び出し元の画面側**: 
  - 既存ドキュメントに詳細な機能説明がある場合は削除し、共通コンポーネントへのリンクに置き換え
  - 使用している共通コンポーネントのリンクが無い場合は追加
  - 画面固有の使用方法やコンテキストのみを記載

#### パターン2: 呼び出し元の既存ドキュメント側に機能を記載する場合
- **対象**: 特定の画面でしか使用されない機能、または既存ドキュメントに詳細な機能説明が既にある場合
- **呼び出し元の画面側**: 機能の詳細を記載（既存のまま）
- **共通コンポーネント側**: 
  - 概要のみを記載し、詳細は呼び出し元のドキュメントを参照するリンクを追加
  - ただし`app-header.js`、`app-sidebar.js`などどの画面からも参照される基本的な共通機能は例外とし、呼び出し元へのリンクは不要

### 共通コンポーネントグループ一覧

#### グループCC-1: 共通コンポーネント（基本UI）
フォルダ: `docs/design/仕様書/共通コンポーネント/基本UI/`

全画面で使用される基本的なUIコンポーネント：
- `app-header.js`: アプリケーションヘッダー
- `app-sidebar.js`: サイドバー（検索フォーム含む）
- `app-recent-screens.js`: 最近使った画面
- `app-pagination.js`: ページネーション

**ドキュメント作成方針**:
- これらは全画面で使用されるため、共通コンポーネント側に詳細を記載（パターン1）
- 各画面ドキュメントには呼び出し元リンクは不要（基本機能のため）

#### グループCC-2: 共通コンポーネント（選択モーダル）
フォルダ: `docs/design/仕様書/共通コンポーネント/選択モーダル/`

複数機能で使用される選択用モーダル：
- `app-employee-selector.js`: 社員選択モーダル
- `app-project-selector.js`: 案件選択モーダル
- `app-engineer-selector.js`: エンジニア選択モーダル
- `app-official-company-search-modal.js`: 法人番号検索・選択モーダル

**ドキュメント作成方針**:
- 汎用的な選択機能のため、共通コンポーネント側に詳細を記載（パターン1）
- 呼び出し元の既存ドキュメントに詳細説明がある場合は、共通コンポーネント側へのリンクに置き換え

#### グループCC-3: エンジニア管理コンポーネント
フォルダ: `docs/design/仕様書/エンジニア管理/共通コンポーネント/`

エンジニア管理機能で使用されるコンポーネント：
- `app-engineer-form.js`: エンジニア情報入力フォーム
- `app-skill-sheet-uploader.js`: スキルシートアップロード
- `app-employee-info-form.js`: 社員情報入力フォーム
- `app-project-register-modal.js`: 案件登録モーダル

**ドキュメント作成方針**:
- 既存の`docs/design/仕様書/エンジニア管理/`のドキュメントを確認
- 既存ドキュメントに詳細な機能説明がある場合は、そのまま維持し、共通コンポーネント側から参照（パターン2）
- 既存ドキュメントに記載がない場合は、共通コンポーネント側に記載（パターン1）

#### グループCC-4: 案件管理コンポーネント
フォルダ: `docs/design/仕様書/案件管理/共通コンポーネント/`

案件管理機能で使用されるコンポーネント：
- `app-project-form.js`: 案件情報入力フォーム
- `app-blacklist-selector.js`: ブラックリスト選択
- `app-mailing-list-selector.js`: メーリングリスト選択（※案件・エンジニアの両方で使用）

**ドキュメント作成方針**:
- 呼び出し元の既存ドキュメントを確認
- 既存ドキュメントに詳細な機能説明がある場合は、そのまま維持し、共通コンポーネント側から参照（パターン2）
- 既存ドキュメントに記載がない場合は、共通コンポーネント側に記載（パターン1）

#### グループCC-5: メッセージ・面談コンポーネント
フォルダ: `docs/design/仕様書/メッセージ・面談/共通コンポーネント/`

メッセージと面談に関連する機能のコンポーネント：
- `app-engineer-meeting-edit.js`: 面談情報編集モーダル
- `app-email-preview.js`: 送信メールプレビュー
- `app-message-list.js`: メッセージ一覧
- `app-message-thread-modal.js`: メッセージスレッド詳細モーダル
- `app-message-reply.js`: メッセージ返信
- `app-meeting-round-manager.js`: 面談ラウンド管理
- `app-meeting-tool-settings.js`: 面談ツール設定

**ドキュメント作成方針**:
- 呼び出し元の既存ドキュメントを確認
- 既存ドキュメントに詳細な機能説明がある場合は、そのまま維持し、共通コンポーネント側から参照（パターン2）
- 既存ドキュメントに記載がない場合は、共通コンポーネント側に記載（パターン1）

#### グループCC-6: テナント・企業・アカウント管理コンポーネント
フォルダ: `docs/design/仕様書/テナント・企業・アカウント管理/共通コンポーネント/`

テナント、企業、アカウント管理機能で使用されるコンポーネント：
- `app-company-edit-modal.js`: 会社情報編集モーダル
- `app-employee-edit-modal.js`: 社員情報編集モーダル
- `app-tenant-edit-modal.js`: テナント情報編集モーダル
- `app-account-edit-modal.js`: アカウント情報編集モーダル
- `app-plan-selection-modal.js`: プラン選択モーダル
- `app-payment-method-modal.js`: 支払方法選択モーダル

**ドキュメント作成方針**:
- 呼び出し元の既存ドキュメントを確認
- 既存ドキュメントに詳細な機能説明がある場合は、そのまま維持し、共通コンポーネント側から参照（パターン2）
- 既存ドキュメントに記載がない場合は、共通コンポーネント側に記載（パターン1）

#### グループCC-7: 管理者・マスタ管理コンポーネント
フォルダ: `docs/design/仕様書/管理者・マスタ管理/共通コンポーネント/`

管理者・マスタ管理機能で使用されるコンポーネント：
- `app-api-integration.js`: API連携設定（Zoom、Google Meets、Teams等）

**ドキュメント作成方針**:
- 既存の`api-integration.md`を確認
- 既存ドキュメントに詳細な機能説明がある場合は、そのまま維持し、共通コンポーネント側から参照（パターン2）
- 既存ドキュメントに記載がない場合は、共通コンポーネント側に記載（パターン1）

### 共通コンポーネントドキュメント作成時の注意事項
1. **リンク管理**:
   - 共通コンポーネント側: 使用画面へのリンクを記載
   - 使用画面側: 共通コンポーネントへのリンクを記載
   - 相互リンクにより、双方向の参照を可能にする

2. **`共通コンポーネント一覧.md`の更新**:
   - ドキュメント作成完了後、「ドキュメントへのリンク」列を更新する
